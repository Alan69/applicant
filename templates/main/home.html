{% extends "application/base.html" %}
{% load static %}
{% load i18n %}
{% block home %}

<style>
    .copy-tooltip {
        display: none;
        position: absolute;
        bottom: calc(100% + 10px);
        left: 50%;
        transform: translateX(-50%);
        padding: 4px 8px;
        background-color: rgba(0, 0, 0, 0.8);
        color: #fff;
        border-radius: 4px;
        font-size: 12px;
        white-space: nowrap;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s, transform 0.3s;
    }

    .copy-button .copy-tooltip.show-tooltip {
          display: block;
          opacity: 1;
          transform: translateX(-50%) translateY(-5px);
      }
</style>


<div class="container-xxl flex-grow-1 container-p-y">
  <div class="row">
    <div class="col-lg-8 mb-4 order-0">
      <div class="card">
        <div class="d-flex align-items-end row">
          <div class="col-sm-7">
            <div class="card-body">
              {% if proposals.status == 'accepted' or proposals.status == 'added' %}
              <h5 class="card-title text-primary">{% trans "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ–º –≤ YU!" %}üéâ </h5>
              <p class="mb-4">
                {% trans "–ú—ã —Ä–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∞—Å –≤ YU! –í–∞–º –Ω–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–º, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—à–∏–º –æ–±—É—á–∞—é—â–∏–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º –∏ –æ–Ω–ª–∞–π–Ω-—Ä–µ—Å—É—Ä—Å–∞–º. " %}
              </p>
              {% else %}
              <h5 class="card-title text-primary">{% trans "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –≤ YU! " %}üéâ </h5>

              <p class="mb-4">
                {% trans "–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —É—á–µ–±–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã. " %}
              </p>

              {% endif %}

              <div class="btn-group" style="margin-right:10px;">
                <form class="lang-form" action="{% url 'set_language' %}" method="post">
                  {% csrf_token %}
                  <input class="btn btn-outline-primary btn-sm dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" name="next" type="hidden" value="{{ request.path }}">
                  <select class="dropdown-item btn-sm" name="language" onchange="this.form.submit()">
                      {% get_current_language as LANGUAGE_CODE %}
                      {% get_available_languages as LANGUAGES %}
                      {% get_language_info_list for LANGUAGES as languages %}
                      {% for language in languages %}
                          <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}selected{% endif %}>
                              {{ language.name_local }}
                          </option>
                      {% endfor %}
                  </select>
              </form>
            </div>
              <a href="{% url 'logout' %}" class="btn btn-sm btn-outline-primary "> –í—ã–π—Ç–∏ </a>
            </div>
          </div>

          <div class="col-sm-5 text-center text-sm-left">

            <div class="card-body pb-0 px-0 px-md-4">

              <img src="{% static 'core/img/illustrations/apply2.png' %}" height="140" alt="View Badge User" data-app-dark-img="illustrations/man-with-laptop-dark.png" data-app-light-img="illustrations/man-with-laptop-light.png" />
            </div>
          </div>
        </div>
      </div>
    </div>


    <!--/ Transactions -->
  </div>
  {% if user.is_authenticated %}
  {% if not proposals %}

  <div class="row">
    <div class="col-lg-8 mb-4 order-0">
      <h6 class="text-muted" style="font-size: 0.8rem;">{% trans "–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É —Å –∞–∫–∫–∞—É–Ω—Ç–∞ " %}{{ request.user.email }}</h6>
      <div class="card text-center">
        <div class="card-body">
          <h5 class="card-title">{% trans "–•–æ—á–µ—à—å –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ Yessenov University?" %}</h5>

          <p class="card-text">{% trans "–ü–æ–¥–∞–π –∑–∞—è–≤–∫—É –∏ –ø–æ–ª—É—á–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥ –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏" %}</p>
          <a href="{% url 'application' %}" class="btn btn-primary">{% trans "–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É" %}</a>
        </div>
      </div>
    </div>
    {% else %}
    {% if proposals.univer_id %}
    <div class="row">
      <div class="col-lg-8 mb-4 order-0">
        <h6 class="text-muted" style="font-size: 0.8rem;">{% trans "–õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –æ—Ç id.yu.edu.kz " %}</h6>
        <div class="card text-center">
          <div class="card-body">
              <div class="row mb-3">
                  <label class="col-sm-2 col-form-label" for="basic-default-name">–õ–æ–≥–∏–Ω:</label>
                  <div class="col-sm-8">
                      <div class="input-group input-group-merge">
                          <input
                              type="text"
                              class="form-control text-primary copy-input"
                              id="username_input"
                              readonly
                          />
                          <span class="input-group-text copy-button">
                              <i class="bx bx-copy cursor-pointer"></i>
                              <span class="copy-tooltip">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ</span>
                          </span>
                      </div>
                  </div>
              </div>
              <div class="row mb-3">
                  <label class="col-sm-2 col-form-label" for="basic-default-name">–û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
                  <div class="col-sm-8">
                      <div class="input-group input-group-merge">
                          <input
                              type="text"
                              class="form-control text-primary copy-input"
                              id="temporary_password_input"
                              readonly
                          />
                          <span class="input-group-text copy-button">
                              <i class="bx bx-copy cursor-pointer"></i>
                              <span class="copy-tooltip">–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ</span>
                          </span>
                      </div>
                  </div>
              </div>
          </div>

        </div>
      </div>
      </div>
      <div style="margin-bottom:20px;" class="card accordion-item">
                      <h2 class="accordion-header" id="headingTwo">
                        <button
                          type="button"
                          class="accordion-button collapsed"
                          data-bs-toggle="collapse"
                          data-bs-target="#accordionTwo"
                          aria-expanded="false"
                          aria-controls="accordionTwo"
                        >
                          –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </button>
                      </h2>
                      <div
                        id="accordionTwo"
                        class="accordion-collapse collapse"
                        aria-labelledby="headingTwo"
                        data-bs-parent="#accordionExample"
                      >
                        <div class="accordion-body">
                        <div class="">
            <p><strong>1.</strong> id.yu.edu.kz ‚Äì –æ–±—â–∏–π –ø–æ—Ä—Ç–∞–ª. –ß–µ—Ä–µ–∑ —ç—Ç–æ—Ç —Å–∞–π—Ç –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –≤–∞—à–∏–º –∑–∞–Ω—è—Ç–∏—è–º –∏ –≤–æ–ø—Ä–æ—Å–∞–º.</p>
            <p><a href="#" target="_blank">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç id.yu.edu.kz</a></p>
            <p><strong>2.</strong> –ù–∞ —ç—Ç–æ–º —Å–∞–π—Ç–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ:</p>
            <ul>
                <li>@yu.edu.kz ‚Äì –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ—á—Ç–∞;</li>
                <li>Canvas LMS ‚Äì –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–Ω–ª–∞–π–Ω –æ–±—É—á–µ–Ω–∏—è;</li>
                <li>Lessons</li>
            </ul>
            <p><strong>3.</strong> –ö–æ–≥–¥–∞ —Å–∞–π—Ç id.yu.edu.kz –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã –æ–±—è–∑–∞–Ω—ã –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –≤–∞—à–µ–π –ª–∏—á–Ω–æ–π –ø–æ—á—Ç—ã –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å! –î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ì–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∑–∞—Ç–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–µ–∑–µ—Ä–≤–Ω–∞—è –ø–æ—á—Ç–∞" (–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –ø–æ—á—Ç—É) –≤–Ω–µ—Å–∏—Ç–µ —Å–≤–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å. –≠—Ç–æ –≤–∞–∂–Ω–æ –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã –∑–∞–±—É–¥–µ—Ç–µ –ø–∞—Ä–æ–ª—å. –í—ã —Å–º–æ–∂–µ—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –≤–∞—à—É –ª–∏—á–Ω—É—é –ø–æ—á—Ç—É.</p>
            <p><strong>4.</strong> –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏—è –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Å–≤–æ–µ–º—É –ª–∏—á–Ω–æ–º—É —ç–¥–≤–∞–π–∑–µ—Ä—É. –≠–¥–≤–∞–π–∑–µ—Ä—ã ‚Äì —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≤ –≤–∞—à–µ–º –¥–µ–∫–∞–Ω–∞—Ç–µ, –≥–æ—Ç–æ–≤—ã–µ –æ–∫–∞–∑–∞—Ç—å –≤–∞–º –ø–æ–º–æ—â—å –∏ –¥–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏—è. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤–∞—à–∏–º –ª–∏—á–Ω—ã–º —ç–¥–≤–∞–π–∑–µ—Ä–æ–º, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –¥–µ–∫–∞–Ω–∞—Ç.</p>
          </div>
        </div>
      </div>
                  </div>
      {% endif %}
    <div class="row">
      <div class="col-lg-8 mb-4 order-0">
        <h6 class="text-muted" style="font-size: 0.8rem;">{% trans "–ó–∞—è–≤–∫–∏ —Å –∞–∫–∫–∞—É–Ω—Ç–∞" %} {{ request.user.email }}</h6>
        <div class="card text-center">
          <div class="card-body">
            <h5 class="card-title">{% trans "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥ –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏" %} </h5>
            <h2 class="card-title">{{proposals.random_number}}</h2>
            <h5 class="card-title">{% trans "–§–∞–∫—É–ª—å—Ç–µ—Ç:" %} {{proposals.faculty}}</h5>

            <p class="card-text">{% trans "–°—Ç–∞—Ç—É—Å: " %}
              {% if proposals.status == 'new' %}
              <span class="badge bg-label-warning me-1">{% trans "–ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞" %}</span>
              {% elif proposals.status == 'checking' %}
              <span class="badge bg-label-success me-1">{% trans "–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏" %}</span>
              {% elif proposals.status == 'accepted' or proposals.status == 'added' %}
              <span class="badge bg-label-info me-1">{% trans "–ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞" %}</span>
              {% elif proposals.status == 'rejeted' %}
              <span class="badge bg-label-danger me-1">{% trans "–ó–∞—è–≤–∫–∞ –æ—Ç–∫–∞–∑–∞–Ω–∞" %}</span>
              {% endif %}
            </p>
            {% if proposals %}

      <a href="{% url 'applicationedit' proposals.pk %}" class="btn btn-primary">{% trans "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞—è–≤–∫—É" %}</a>
      <!-- <a href="{% url 'generate_word' %}" class="btn btn-primary">–î–æ–∫—É–º–µ–Ω—Ç</a>
      <a href="{% url 'get_dogovor' %}" class="btn btn-primary">–î–æ–≥–æ–≤–æ—Ä</a> -->

  {% endif %}



          </div>
        </div>
      </div>
      {% endif %}
      <!--/ Transactions -->


    </div>
  </div>
    </div>
  {% endif %}

 


  <script>
      document.addEventListener('DOMContentLoaded', function() {
          var copyButtons = document.querySelectorAll('.copy-button');

          copyButtons.forEach(function(button) {
              button.addEventListener('click', function() {
                  var copyTarget = button.closest('.input-group-merge').querySelector('.copy-input');

                  if (copyTarget) {
                      copyTarget.select();
                      document.execCommand('copy');
                      button.querySelector('.copy-tooltip').classList.add('show-tooltip');
                      setTimeout(function() {
                          button.querySelector('.copy-tooltip').classList.remove('show-tooltip');
                      }, 1500); // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º–æ–µ –≤—Ä–µ–º—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
                  }
              });
          });
      });
  </script>





  {% endblock %}